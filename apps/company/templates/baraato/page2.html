{% extends 'baraato/base.html' %}
{% load static %}


{% block part_2_time %}
	active
{% endblock %}

{# main #}
{% block main %}
    	<div class="part-2-main">
            <div class="text-main">
                <div class="text">زمان‌های در دسترس برای {{ company.name}}</div>
                <div class="text">لطفاً برای رزرو یک مورد را انتخاب کنید</div>
                <div class="text">برای تغییر ماه روی فلش کلیک کنید</div>
                
                {# date #}
                <div class="date">
                    <label style="display: flex; flex-direction: column">
                        {#TODO : Add data-jdp-max-date#}
                        <input id="test" data-jdp-miladi-input="miladi_date" data-jdp placeholder="انتخاب تاریخ" data-jdp-min-date="today">
                        <input id="miladi_date" />
                    </label>
                    <br>
                    <div id="time"></div>
                </div>
                
                <div class="div">
                    <div class="divar"></div>
                    <div class="parent-btn-page2">
                        <button class="button-green"><a href="{% url 'company:list-company' %}">بازگشت</a></button>
                    </div>
                </div>
            </div>
        </div>
{% endblock %}


{# js #}
{% block script %}
    {#  add files  Date conversion #}
    {#https://github.com/senior-x-79/farvardin.js#}
    <script src="{% static 'date-conversion/farvardin.min.js' %}"></script>
<script>
    {# push data in list #}
    let lis = []
            {% for holiday in holidays %}
                lis.push(farvardin.gregorianToSolar({{holiday.date.year}} , {{holiday.date.month}} , {{holiday.date.day}} , "object"))
            {% endfor %}
    
    {# date conversion #}
    let timeslots = getTime(
        '{{ sansConfig.first.start_time|time:"H:i:s" }}',
        '{{ sansConfig.first.end_time|time:"H:i:s" }}',
        {{ sansConfig.first.duration }},
        '{{ sansHolidayDateTime.first.start_time|time:"H:i:s" }}',
        '{{ sansHolidayDateTime.first.end_time|time:"H:i:s" }}'
    );
        
</script>
{% endblock %}